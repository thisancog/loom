{"version":3,"sources":["main.js"],"names":["vpWidth","Math","document","window","init","resizer","resizeBody","sketchContainer","vpHeight","p5Sketch","credits","changeHeight","root","height","width","vw","vh","body","clientWidth","innerHeight","style","setTimeout","sketch","p","Warp","Weft","args","strokeWeight","line","threadWidth","wefts","weftColors","warps","warpColors","currentWarp","threadSpacing","saveFrame","numWefts","now","fileName","currentWeft","Date","getMonth","setup","i","createCanvas","floor","threadTotal","color","y","pattern","background","weft","console"],"mappings":"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","file":"main.min.js","sourcesContent":["\"use strict\";\n\n(function() {\n\n\t/***************************************\n\t\tCommon methods\n\t***************************************/\n\n\tvar vpWidth = function() { return Math.max(document.documentElement.clientWidth, window.innerWidth || 0); }\n\tvar vpHeight = function() { return Math.max(document.documentElement.clientHeight, window.innerHeight || 0); }\n\n\t\n\tvar resizer, sketchContainer, p5Sketch;\n\n\tvar init = function() {\n\t\tresizer           = resizeBody();\n\t\tsketchContainer   = document.querySelector('.sketch-container');\n\n\t\tif (sketchContainer)\n\t\t\tp5Sketch          = new p5(sketch, sketchContainer);\n\n\t\tcredits();\n\t}\n\n\n\n\t/***************************************\n\t\tResize body\n\t***************************************/\n\n\tvar resizeBody = function() {\n\t\tvar changeHeight = function() {\n\t\t\tvar root = document.documentElement,\n\t\t\t\theight = window.innerHeight,\n\t\t\t\twidth  = vpWidth(),\n\t\t\t\tvw = 0.01 * document.body.clientWidth,\n\t\t\t\tvh = 0.01 * window.innerHeight;\n\n\t\t\troot.style.setProperty('--vw', vw + 'px');\n\t\t\troot.style.setProperty('--vh', vh + 'px');\n\t\t\tdocument.body.style.height = window.innerHeight + 'px';\n\t\t}\n\n\t\tsetTimeout(changeHeight, 20);\n\t\twindow.addEventListener('resize', changeHeight);\n\n\t\treturn changeHeight;\n\t}\n\n\n\n\t/***************************************\n\t\tLoom\n\t***************************************/\n\n\tvar sketch = function(p) {\n\n\t\t/* horizontal threads */\n\t\tclass Warp {\n\t\t\tconstructor(args) {\n\t\t\t\tthis.args = args;\n\t\t\t}\n\n\t\t\tweave() {\n\n\t\t\t}\n\t\t}\n\n\n\t\t/* vertical threads */\n\t\tclass Weft {\n\t\t\tconstructor(args) {\n\t\t\t\tthis.args  = args;\n\t\t\t\tthis.lastY = 0;\n\t\t\t}\n\n\t\t\tweave(newY) {\n\t\t\t\tp.strokeCap(p.SQUARE);\n\t\t\t\tp.strokeWeight(this.args.width);\n\t\t\t\tp.stroke(this.args.color);\n\t\t\t\tp.line(this.args.x, this.lastY, this.args.x, newY);\n\t\t\t\tthis.lastY = newY;\n\t\t\t}\n\t\t}\n\n\t\tlet threadWidth   = 4,\n\t\t\tthreadSpacing = 1,\n\t\t\tthreadTotal   = threadWidth + threadSpacing,\n\n\t\t\twefts         = [],\n\t\t\tweftColors    = ['#777', '#777', '#999', '#999', '#BBB', '#BBB'],\n\t\t\tnumWefts,\n\n\t\t\twarps         = [],\n\t\t\twarpColors    = ['#777', '#777', '#999', '#999', '#BBB', '#BBB'];\n\n\t\tlet\tcurrentWarp   = 0,\n\t\t\tcurrentWeft   = 0;\n\n\n\t\tvar saveFrame = function() {\n\t\t\tlet now      = new Date(),\n\t\t\t\tfileName = 'loom_' + now.getFullYear() + '-' + (now.getMonth() + 1) + '-' + now.getDate()\n\t\t\t\t\t\t + ' ' + now.getHours() + '-' + now.getMinutes() + '-' + now.getSeconds();\n\t\t\tp.save(fileName + '.jpg');\n\t\t}\n\n\t\tp.setup = function() {\n\t\t\tp.createCanvas(sketchContainer.clientWidth, sketchContainer.clientHeight);\n\t\t\tsketchContainer.addEventListener('click', saveFrame);\n\t\t\tnumWefts = Math.floor(p.width / threadTotal);\n\n\t\t\tfor (let i = 0; i < numWefts; i++) {\n\t\t\t\twefts.push(new Weft({\n\t\t\t\t\tx:    \t\ti * threadTotal,\n\t\t\t\t\tcolor:\t\tweftColors[i % weftColors.length],\n\t\t\t\t\twidth:\t\tthreadWidth\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < warpColors.length; i++) {\n\t\t\t\twarps.push(new Warp({\n\t\t\t\t\ty: \t\t\ti * threadTotal,\n\t\t\t\t\tcolor:  \twarpColors[i],\n\t\t\t\t\twidth:  \tthreadWidth,\n\t\t\t\t\tpattern:\t[ 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\tp.background(255);\n\t\t}\n\n\t\tp.draw = function() {\n\t\t\tif (currentWarp > p.height)\n\t\t\t\treturn p.noLoop();\n\n\t\t\twefts.forEach(weft => weft.weave(currentWarp))\n\t\t\tcurrentWarp += threadTotal;\n\t\t}\n\t}\n\n\n\t/***************************************\n\t\tCredits\n\t***************************************/\n\n\tvar credits = function() {\n\t\tvar credits = '**********\\n\\nThis website was built by Matthias Planitzer.\\nwww.matthias-planitzer.de\\n\\n**********';\n\t\tconsole.log('%c' + credits, 'color: #00F; font-family: Helvetica Neue\", Helvetica, sans-serif; font-size: 14px;');\t\n\t}\n\n\n\n\n\n\n\tinit();\n})();"]}
{"version":3,"sources":["main.js"],"names":["resizeBody","changeHeight","document","window","setTimeout","loom","sketchContainer","controls","settings","settingsToggle","addWeftBtn","querySelector","removeWeftBtns","addWarpBtn","removeWarpBtns","seedInput","slice","generateBtn","downloadBtn","addEventListener","args","parseArgs","p5Sketch","e","preventDefault","initLoom","generateFromString","parseFloat","threadWidth","patternWidth","threadSpacing","weftColors","input","parseInt","querySelectorAll","pattern","color","row","threadTotal","threadWidthInput","threadSpacingInput","warpSettings","getRandomNumber","lerp","i","xmur3","numWefts","newColor","addWeft","colors","generateRandomColorSet","console","newPattern","patternLength","n","addWarp","weftsInner","removeBtn","newElem","removeWeft","target","closest","removeEventListener","parentElement","removeChild","warpsInner","template","removeWarp","fileName","toggleSettings","saveFrame","now","warps","offsetX","currentY","currentWarpIndex","p","createCanvas","width","wefts","Warp","gap","x","background","step","y","currentWarp","underOrOver","currentX","startX","wrapIndex","endX","startY","Weft","endY","getNumWefts","minWidth","Math","max","min","maxWidth","h","imul","charCodeAt","limit","variations","scheme","schemes","variation","colorSet","map","hue","PRNG","credits","registerEvents","btn","forEach","init"],"mappings":"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","file":"main.min.js","sourcesContent":["\"use strict\";\n\n(function() {\n\n\t/***************************************\n\t\tCommon methods\n\t***************************************/\n\n\tvar vpWidth = function() { return Math.max(document.documentElement.clientWidth, window.innerWidth || 0); }\n\tvar vpHeight = function() { return Math.max(document.documentElement.clientHeight, window.innerHeight || 0); }\n\n\t\n\tvar init = function() {\n\t\tresizeBody();\n\t\tloom();\n\t\tcredits();\n\t}\n\n\n\n\t/***************************************\n\t\tResize body\n\t***************************************/\n\n\tvar resizeBody = function() {\n\t\tvar changeHeight = function() {\n\t\t\tdocument.documentElement.style.setProperty('--vw', (0.01 * document.body.clientWidth) + 'px');\n\t\t\tdocument.documentElement.style.setProperty('--vh', (0.01 * window.innerHeight) + 'px');\n\t\t\tdocument.body.style.height = window.innerHeight + 'px';\n\t\t}\n\n\t\tsetTimeout(changeHeight, 20); // older Safari iOS will lag\n\t\twindow.addEventListener('resize', changeHeight);\n\t}\n\n\n\n\n\n\t/***************************************\n\t\tLoom\n\t***************************************/\n\n\tvar loom = function() {\n\t\tvar sketchContainer = document.querySelector('.sketch-container'),\n\t\t\tcontrols        = document.querySelector('.controls'),\n\t\t\tsettings        = controls.querySelector('.settings'),\n\t\t\tsettingsToggle  = settings.querySelector('.settings-toggle'),\n\t\t\taddWeftBtn      = controls.querySelector('.add-weft-btn'),\n\t\t\tremoveWeftBtns  = [].slice.call(controls.querySelectorAll('.setting-wefts .remove-btn')),\n\t\t\taddWarpBtn      = controls.querySelector('.add-warp-btn'),\n\t\t\tremoveWarpBtns  = [].slice.call(controls.querySelectorAll('.setting-warps .remove-btn')),\n\t\t\tseedInput       = controls.querySelector('#seed'),\n\t\t\tgenerateBtn     = controls.querySelector('#generate'),\n\t\t\tdownloadBtn     = controls.querySelector('#download'),\n\t\t\targs, p5Sketch;\n\n\t\tvar registerEvents = function() {\n\t\t\tsettingsToggle.addEventListener('click', toggleSettings);\n\t\t\taddWeftBtn.addEventListener(    'click', addWeft);\n\t\t\tremoveWeftBtns.forEach(btn =>\n\t\t\t\tbtn.addEventListener(       'click', removeWeft)\n\t\t\t);\n\t\t\taddWarpBtn.addEventListener(    'click', addWarp);\n\t\t\tremoveWarpBtns.forEach(btn =>\n\t\t\t\tbtn.addEventListener(       'click', removeWarp)\n\t\t\t);\n\n\t\t\tgenerateBtn.addEventListener(   'click', resetLoom);\n\t\t\tdownloadBtn.addEventListener(   'click', saveFrame);\n\t\t\tcontrols.addEventListener(     'submit', resetLoom);\n\t\t}\n\n\t\tvar initLoom = function() {\n\t\t\targs            = parseArgs();\n\t\t\tp5Sketch        = new p5(sketch, sketchContainer);\n\t\t}\n\n\t\tvar resetLoom = function(e) {\n\t\t\te.preventDefault();\n\n\t\t\tif (p5Sketch)\n\t\t\t\tp5Sketch.remove();\n\n\t\t\tinitLoom();\n\t\t}\n\n\t\tvar parseArgs = function() {\n\t\t\tif (seedInput.value.length > 0)\n\t\t\t\tgenerateFromString(seedInput.value);\n\n\t\t\tlet threadWidth   = parseFloat(document.querySelector('#thread-width').value),\n\t\t\t\tthreadSpacing = parseFloat(document.querySelector('#thread-spacing').value),\n\t\t\t\tpatternWidth  = parseInt(document.querySelector('#pattern-width').value);\n\n\t\t\tlet weftColors    = [].slice.call(controls.querySelectorAll('.setting-wefts .repeater-elements input[type=\"color\"]'))\n\t\t\t\t\t\t\t\t  .map(input => input.value);\n\n\t\t\tlet warps         = [].slice.call(controls.querySelectorAll('.setting-warps .repeater-elements .repeater-single'))\n\t\t\t\t\t\t\t\t  .map(function(row) {\n\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\tcolor:   row.querySelector('input[type=\"color\"]').value,\n\t\t\t\t\t\t\t\t\t\t\tpattern: row.querySelector('input[type=\"text\"]').value\n\t\t\t\t\t\t\t\t\t\t\t\t\t    .replace(/[^01]/g, '')\n\t\t\t\t\t\t\t\t\t\t\t\t\t    .split(''),\n\t\t\t\t\t\t\t\t  \t\t}\n\t\t\t\t\t\t\t\t  });\n\n\t\t\treturn {\n\t\t\t\tthreadWidth: \tthreadWidth,\n\t\t\t\tthreadSpacing:\tthreadSpacing,\n\t\t\t\tthreadTotal:    threadWidth + threadSpacing,\n\t\t\t\tpatternWidth:\tpatternWidth,\n\t\t\t\tweftColors: \tweftColors,\n\t\t\t\twarpSettings:   warps \n\t\t\t};\n\t\t}\n\n\t\tvar generateFromString = function(value) {\n\t\t\tlet threadWidthInput   = document.querySelector('#thread-width'),\n\t\t\t\tthreadSpacingInput = document.querySelector('#thread-spacing'),\n\t\t\t\tpatternWidth       = document.querySelector('#pattern-width');\n\n\t\t\t//\tclear everything\n\t\t\tdocument.querySelector('.setting-wefts .repeater-elements').innerHTML = '';\n\t\t\tdocument.querySelector('.setting-warps .repeater-elements').innerHTML = '';\n\n\n\t\t\tlet getRandomNumber = xmur3(value),\n\t\t\t\tnumWefts        = parseInt(lerp(getRandomNumber(), 1, 50)),\n\t\t\t\tnumWarps        = parseInt(lerp(getRandomNumber(), 1, 50)),\n\t\t\t\tthreadWidth     = parseInt(lerp(getRandomNumber(), 1, 50)),\n\t\t\t\tcolors          = generateRandomColorSet(getRandomNumber);\n\n\t\t\tconsole.log(colors);\n\n\t\t\tthreadWidthInput.value   = threadWidth;\n\t\t\tthreadSpacingInput.value = parseInt(lerp(getRandomNumber(), 0, 0.5 * threadWidth));\n\t\t\tpatternWidth.value       = parseInt(lerp(getRandomNumber(), 1, 999));\n\n\t\t\tfor (let i = 0; i < numWefts; i++) {\n\t\t\t\tlet newColor = colors[parseInt(lerp(getRandomNumber(), 0, colors.length - 1))];\n\t\t\t\taddWeft(newColor);\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < numWarps; i++) {\n\t\t\t\tlet newColor      = colors[parseInt(lerp(getRandomNumber(), 0, colors.length - 1))],\n\t\t\t\t\tpatternLength = parseInt(lerp(getRandomNumber(), 4, 200)),\n\t\t\t\t\tnewPattern    = '';\n\n\t\t\t\tfor (let n = 0; n < patternLength; n++) {\n\t\t\t\t\tnewPattern = newPattern + (getRandomNumber() < 0.5 ? '0' : '1');\n\t\t\t\t}\n\n\t\t\t\taddWarp(newColor, newPattern);\n\t\t\t}\n\t\t}\n\n\n\n\t\t/***************************************\n\t\t\tInterface\n\t\t***************************************/\n\n\t\tvar addWeft = function(color) {\n\t\t\tlet weftsInner = controls.querySelector('.setting-wefts .repeater-elements'),\n\t\t\t\ttemplate   = controls.querySelector('.setting-wefts .repeater-template'),\n\t\t\t\tnewElem    = template.cloneNode(true),\n\t\t\t\tremoveBtn  = newElem.querySelector('.remove-btn');\n\n\t\t\tnewElem.classList.remove('repeater-template');\n\t\t\tweftsInner.appendChild(newElem);\n\t\t\tremoveBtn.addEventListener('click', removeWeft);\n\n\t\t\tif (color !== null) {\n\t\t\t\tnewElem.querySelector('input[type=\"color\"]').value = color;\n\t\t\t}\n\t\t}\n\n\t\tvar removeWeft = function(e) {\n\t\t\tlet row = e.target.closest('.repeater-single');\n\t\t\te.target.removeEventListener('click', removeWeft);\n\t\t\trow.parentElement.removeChild(row);\n\t\t}\n\n\t\tvar addWarp = function(color, pattern) {\n\t\t\tlet warpsInner = controls.querySelector('.setting-warps .repeater-elements'),\n\t\t\t\ttemplate   = controls.querySelector('.setting-warps .repeater-template'),\n\t\t\t\tnewElem    = template.cloneNode(true),\n\t\t\t\tremoveBtn  = newElem.querySelector('.remove-btn');\n\n\t\t\tnewElem.classList.remove('repeater-template');\n\t\t\twarpsInner.appendChild(newElem);\n\t\t\tremoveBtn.addEventListener('click', removeWarp);\n\n\t\t\tif (color !== null) {\n\t\t\t\tnewElem.querySelector('input[type=\"color\"]').value = color;\n\t\t\t}\n\n\t\t\tif (pattern !== null) {\n\t\t\t\tnewElem.querySelector('input[type=\"text\"]').value = pattern;\n\t\t\t}\n\t\t}\n\n\t\tvar removeWarp = function(e) {\n\t\t\tlet row = e.target.closest('.repeater-single');\n\t\t\te.target.removeEventListener('click', removeWarp);\n\t\t\trow.parentElement.removeChild(row);\n\t\t}\n\n\t\tvar saveFrame = function() {\n\t\t\tlet now      = new Date(),\n\t\t\t\tfileName = 'loom_' + now.getFullYear() + '-' + (now.getMonth() + 1) + '-' + now.getDate()\n\t\t\t\t\t\t + ' ' + now.getHours() + '-' + now.getMinutes() + '-' + now.getSeconds();\n\t\t\tp5Sketch.save(fileName + '.jpg');\n\t\t}\n\n\t\tvar toggleSettings = function() {\n\t\t\tsettings.classList.toggle('show-settings');\n\t\t}\n\n\n\n\t\t/***************************************\n\t\t\tDrawing\n\t\t***************************************/\n\n\t\tvar sketch = function(p) {\n\t\t\tlet wefts         = [],\n\t\t\t\tnumWefts,\n\t\t\t\twarps         = [];\n\n\t\t\tvar\toffsetX          = 0.5 * args.threadWidth,\n\t\t\t\tcurrentY         = 0,\n\t\t\t\tcurrentWarpIndex = 0;\n\n\t\t\tp.setup = function() {\n\t\t\t\tp.createCanvas(sketchContainer.clientWidth, sketchContainer.clientHeight);\n\t\t\t\tnumWefts = getNumWefts();\n\n\t\t\t\tfor (let x = 0; x < numWefts; x++) {\n\t\t\t\t\twefts.push(new Weft({\n\t\t\t\t\t\tx:    \t\tx * args.threadTotal + offsetX, // offset because stroke is drawn centered\n\t\t\t\t\t\tcolor:\t\targs.weftColors[x % args.weftColors.length],\n\t\t\t\t\t\tgap:        args.threadSpacing,\n\t\t\t\t\t\tstep:       args.threadTotal,\n\t\t\t\t\t\twidth:\t\targs.threadWidth\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\tfor (let y = 0; y < args.warpSettings.length; y++) {\n\t\t\t\t\twarps.push(new Warp({\n\t\t\t\t\t\tcolor:  \targs.warpSettings[y].color,\n\t\t\t\t\t\tgap:        args.threadSpacing,\n\t\t\t\t\t\tstep:       args.threadTotal,\n\t\t\t\t\t\twidth:  \targs.threadWidth,\n\t\t\t\t\t\tnumWefts:   numWefts,\n\t\t\t\t\t\tpattern:\targs.warpSettings[y].pattern\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\tp.background(255);\n\t\t\t}\n\n\n\t\t\t/***************************************\n\t\t\t\tDraw row by row\n\t\t\t***************************************/\n\n\t\t\tp.draw = function() {\n\t\t\t\tif (currentY * args.threadTotal > p.height)\n\t\t\t\t\treturn p.noLoop();\n\n\t\t\t\tlet currentWarp = warps[currentWarpIndex];\n\n\t\t\t\tfor (var x = 0; x < numWefts; x++) {\n\t\t\t\t\tlet underOrOver = currentWarp.weave(x, currentY);\n\t\t\t\t\tif (underOrOver == 'under')\n\t\t\t\t\t \twefts[x].weave(currentY);\n\t\t\t\t}\n\n\t\t\t\tcurrentWarpIndex = wrapIndex(currentWarpIndex + 1, 0, args.warpSettings.length - 1);\n\t\t\t\tcurrentY++;\n\t\t\t}\n\n\n\t\t\t/***************************************\n\t\t\t\tWarps: horizontal threads\n\t\t\t***************************************/\n\n\t\t\tclass Warp {\n\t\t\t\tconstructor(args) {\n\t\t\t\t\tthis.args            = args;\n\t\t\t\t\tthis.counter         = 0;\n\t\t\t\t}\n\n\t\t\t\tweave(currentX, currentY) {\n\t\t\t\t\tthis.counter = wrapIndex(this.counter + 1, 0, this.args.pattern.length - 1);\n\n\t\t\t\t//\tgo under?\n\t\t\t\t\tif (this.args.pattern[this.counter] == 0)\n\t\t\t\t\t\treturn 'under';\n\n\t\t\t\t//\tgo over!\n\t\t\t\t\tlet\tstartX =  currentX      * this.args.step - this.args.gap,\n\t\t\t\t\t\tendX   = (currentX + 1) * this.args.step,\n\t\t\t\t\t\ty      = currentY * this.args.step + 0.5 * (this.args.width);\n\n\t\t\t\t\tp.strokeCap(p.SQUARE);\n\t\t\t\t\tp.strokeWeight(this.args.width);\n\t\t\t\t\tp.stroke(this.args.color);\n\t\t\t\t\tp.line(startX, y, endX, y);\n\t\t\t\t\treturn 'over';\n\t\t\t\t}\n\t\t\t}\n\n\n\n\t\t\t/***************************************\n\t\t\t\tWefts: vertical threads\n\t\t\t***************************************/\n\n\t\t\tclass Weft {\n\t\t\t\tconstructor(args) {\n\t\t\t\t\tthis.args  = args;\n\t\t\t\t}\n\n\t\t\t\tweave(currentY) {\n\t\t\t\t\tlet startY =  currentY      * this.args.step - this.args.gap,\n\t\t\t\t\t\tendY   = (currentY + 1) * this.args.step + this.args.gap;\n\n\t\t\t\t\tp.strokeCap(p.SQUARE);\n\t\t\t\t\tp.strokeWeight(this.args.width);\n\t\t\t\t\tp.stroke(this.args.color);\n\t\t\t\t\tp.line(this.args.x, startY, this.args.x, endY);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar getNumWefts = function() {\n\t\t\t\tlet minWidth      = Math.floor(p.width / args.threadTotal),\n\t\t\t\t\tmaxWidth      = Math.ceil(minWidth / args.patternWidth) * args.patternWidth + Math.floor(0.5 * args.patternWidth);\n\t\t\t\treturn maxWidth;\n\t\t\t}\n\t\t}\n\n\t\t/***************************************\n\t\t\tHelper functions\n\t\t***************************************/\n\n\t\tvar wrapIndex = function(n, min, max) {\n\t\t\tif (n >= min && n <= max)\treturn n;\n\t\t\tif (n > max)\t\t\t\treturn min;\n\t\t\t\t\t\t\t\t\t\treturn max;\n\t\t}\n\n\t\tvar limit = function(n, min, max) {\n\t\t\treturn Math.min(Math.max(n, min), max);\n\t\t}\n\n\t\tvar lerp = function(n, min, max) {\n        \treturn min + (max - min) * limit(n, 0, 1);\n\t\t}\n\n\t\t// seeded pseudo-random number generator\n\t\tvar xmur3 = function(seed) {\n\t\t\tfor (var i = 0, h = 1779033703 ^ seed.length; i < seed.length; i++) {\n\t\t\t\th = Math.imul(h ^ seed.charCodeAt(i), 3432918353);\n\t\t\t\th = h << 13 | h >>> 19;\n\t\t\t}\n\n\t\t\treturn function() {\n\t\t\t\th = Math.imul(h ^ h >>> 16, 2246822507);\n\t\t\t\th = Math.imul(h ^ h >>> 13, 3266489909);\n\t\t\t\th = (h ^= h >>> 16) >>> 0;\n\t\t\t\treturn h / Math.pow(10, h.toString().length);\n\t\t\t}\n\t\t}\n\n\t\tvar generateRandomColorSet = function(PRNG) {\n\t\t\tlet hue        = parseInt(lerp(PRNG(), 0, 359)),\n\t\t\t\tschemes    = ['mono', 'contrast', 'triade', 'tetrade', 'analogic'],\n\t\t\t\tvariations = ['default', 'pastel', 'soft', 'light', 'hard', 'pale'],\n\t\t\t\tscheme     = schemes[parseInt(lerp(PRNG(), 0, schemes.length - 1))],\n\t\t\t\tvariation  = variations[parseInt(lerp(PRNG(), 0, variations.length - 1))],\n\t\t\t\tcolorSet   = new ColorScheme();\n\n\t\t\tcolorSet.from_hue(hue).scheme(scheme);\n\t\t\tif (['triade', 'tetrade', 'analogic'].indexOf(scheme) > -1)\n\t\t\t\tcolorSet.distance(lerp(PRNG(), 0.25, 0.5));\n\t\t\t\n\t\t\tlet colors = colorSet.variation(variation).colors();\n\t\t\treturn colors.map(color => '#' + color);\n\t\t}\n\n\t\tregisterEvents();\n\t\tinitLoom();\n\t}\n\n\n\n\n\n\n\t/***************************************\n\t\tCredits\n\t***************************************/\n\n\tvar credits = function() {\n\t\tvar credits = '**********\\n\\nThis website was built by Matthias Planitzer.\\nwww.matthias-planitzer.de\\n\\n**********';\n\t\tconsole.log('%c' + credits, 'color: #00F; font-family: Helvetica Neue\", Helvetica, sans-serif; font-size: 14px;');\t\n\t}\n\n\tinit();\n})();"]}